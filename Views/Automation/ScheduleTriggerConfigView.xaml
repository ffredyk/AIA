<UserControl x:Class="AIA.Views.Automation.ScheduleTriggerConfigView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
             xmlns:local="clr-namespace:AIA"
             mc:Ignorable="d" 
             d:DesignHeight="280" d:DesignWidth="400">
    <StackPanel>
        <!-- Schedule Date/Time -->
        <TextBlock Text="{local:Localize Automation_Trigger_ScheduledTime}" Foreground="#999999" FontSize="11" Margin="0,8,0,4"/>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <DatePicker SelectedDate="{Binding ScheduledDate, Mode=TwoWay}"
                        Background="#2D2D30" Foreground="White" BorderBrush="#555555"/>
            <StackPanel Grid.Column="1" Orientation="Horizontal" Margin="8,0,0,0">
                <TextBox x:Name="HourTextBox" Text="{Binding ScheduledHour, UpdateSourceTrigger=PropertyChanged}" 
                         Width="45" Background="#2D2D30" Foreground="White" BorderBrush="#555555" Padding="8"
                         TextAlignment="Center"/>
                <TextBlock Text=":" Foreground="White" VerticalAlignment="Center" Margin="2,0"/>
                <TextBox x:Name="MinuteTextBox" Text="{Binding ScheduledMinute, UpdateSourceTrigger=PropertyChanged}" 
                         Width="45" Background="#2D2D30" Foreground="White" BorderBrush="#555555" Padding="8"
                         TextAlignment="Center"/>
            </StackPanel>
        </Grid>
        
        <!-- Recurrence Type -->
        <TextBlock Text="{local:Localize Automation_Trigger_Recurrence}" Foreground="#999999" FontSize="11" Margin="0,12,0,4"/>
        <ComboBox x:Name="RecurrenceCombo" 
                  SelectedIndex="{Binding RecurrenceIndex, Mode=TwoWay}"
                  Background="#2D2D30" Foreground="White" BorderBrush="#555555">
            <ComboBoxItem Content="None (One-time)"/>
            <ComboBoxItem Content="Daily"/>
            <ComboBoxItem Content="Weekly"/>
            <ComboBoxItem Content="Monthly"/>
        </ComboBox>
        
        <!-- Recurrence Interval (visible when recurrence is set) -->
        <Grid Margin="0,12,0,0" x:Name="IntervalGrid">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <TextBlock Text="{local:Localize Automation_Trigger_RepeatEvery}" Foreground="#999999" FontSize="11" VerticalAlignment="Center"/>
            <StackPanel Grid.Column="1" Orientation="Horizontal">
                <TextBox Text="{Binding RecurrenceInterval, UpdateSourceTrigger=PropertyChanged}" 
                         Width="60" Background="#2D2D30" Foreground="White" BorderBrush="#555555" Padding="8"
                         TextAlignment="Center"/>
                <TextBlock x:Name="IntervalUnitText" Text="day(s)" Foreground="#999999" VerticalAlignment="Center" Margin="4,0,0,0"/>
            </StackPanel>
        </Grid>
        
        <!-- Schedule Preview -->
        <Border Margin="0,16,0,0" Padding="12,8" CornerRadius="4" Background="#221EB75F">
            <StackPanel Orientation="Horizontal">
                <ui:SymbolIcon Symbol="Clock20" Foreground="#1EB75F" FontSize="16" Margin="0,0,8,0"/>
                <TextBlock x:Name="PreviewText" Foreground="#1EB75F" FontSize="12" VerticalAlignment="Center"
                           Text="Next run: Not scheduled"/>
            </StackPanel>
        </Border>
    </StackPanel>
</UserControl>

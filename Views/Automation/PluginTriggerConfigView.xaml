<UserControl x:Class="AIA.Views.Automation.PluginTriggerConfigView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
             xmlns:local="clr-namespace:AIA"
             mc:Ignorable="d" 
             d:DesignHeight="200" d:DesignWidth="400">
    <StackPanel>
        <!-- Plugin Selection -->
        <TextBlock Text="{local:Localize Automation_Trigger_Plugin}" Foreground="#999999" FontSize="11" Margin="0,8,0,4"/>
        <ComboBox x:Name="PluginCombo"
                  ItemsSource="{Binding AvailablePlugins}"
                  SelectedValue="{Binding PluginId, Mode=TwoWay}"
                  SelectedValuePath="Id"
                  DisplayMemberPath="Name"
                  Background="#2D2D30" Foreground="White" BorderBrush="#555555"
                  SelectionChanged="PluginCombo_SelectionChanged"/>
        
        <!-- Trigger Selection -->
        <TextBlock Text="{local:Localize Automation_Trigger_PluginTrigger}" Foreground="#999999" FontSize="11" Margin="0,12,0,4"/>
        <ComboBox x:Name="TriggerCombo"
                  ItemsSource="{Binding AvailableTriggers}"
                  SelectedValue="{Binding TriggerId, Mode=TwoWay}"
                  SelectedValuePath="Id"
                  DisplayMemberPath="Name"
                  Background="#2D2D30" Foreground="White" BorderBrush="#555555"/>
        
        <!-- Plugin Trigger Description -->
        <Border x:Name="DescriptionBorder" Margin="0,12,0,0" Padding="12,8" CornerRadius="4" 
                Background="#222D2D30" Visibility="Collapsed">
            <StackPanel>
                <TextBlock x:Name="TriggerDescriptionText" Foreground="#999999" FontSize="11" TextWrapping="Wrap"/>
            </StackPanel>
        </Border>
        
        <!-- No Plugins Message -->
        <Border x:Name="NoPluginsMessage" Margin="0,12,0,0" Padding="12,8" CornerRadius="4" 
                Background="#33FF4444" Visibility="Collapsed">
            <StackPanel Orientation="Horizontal">
                <ui:SymbolIcon Symbol="Info12" Foreground="#FF4444" FontSize="14" Margin="0,0,8,0"/>
                <TextBlock Text="{local:Localize Automation_Trigger_NoPluginTriggers}" 
                           Foreground="#FF4444" FontSize="11"/>
            </StackPanel>
        </Border>
    </StackPanel>
</UserControl>

<Window x:Class="AIA.ReminderNotificationWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
        xmlns:local="clr-namespace:AIA"
        mc:Ignorable="d"
        Title="{local:Localize Notification_Reminder}"
        WindowStyle="None"
        AllowsTransparency="True"
        Topmost="True"
        ShowInTaskbar="False"
        ResizeMode="NoResize"
        Width="380"
        SizeToContent="Height"
        Background="Transparent">
    
    <Window.Resources>
        <Storyboard x:Key="SlideInAnimation">
            <DoubleAnimation Storyboard.TargetProperty="(Window.RenderTransform).(TranslateTransform.X)"
                             From="400" To="0"
                             Duration="0:0:0.3">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                             From="0" To="1"
                             Duration="0:0:0.2"/>
        </Storyboard>
        
        <Storyboard x:Key="SlideOutAnimation">
            <DoubleAnimation Storyboard.TargetProperty="(Window.RenderTransform).(TranslateTransform.X)"
                             From="0" To="400"
                             Duration="0:0:0.25">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseIn"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                             From="1" To="0"
                             Duration="0:0:0.2"/>
        </Storyboard>
    </Window.Resources>
    
    <Window.RenderTransform>
        <TranslateTransform X="0"/>
    </Window.RenderTransform>
    
    <Border x:Name="MainBorder" CornerRadius="12" BorderThickness="1" Margin="10">
        <Border.Effect>
            <DropShadowEffect BlurRadius="20" ShadowDepth="0" Opacity="0.5" Color="Black"/>
        </Border.Effect>
        <Border.Background>
            <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                <GradientStop Color="#F0202020" Offset="0"/>
                <GradientStop Color="#F5181818" Offset="1"/>
            </LinearGradientBrush>
        </Border.Background>
        <Border.BorderBrush>
            <SolidColorBrush x:Name="BorderColor" Color="#44FFFFFF"/>
        </Border.BorderBrush>
        
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <!-- Header with urgency indicator -->
            <Border x:Name="HeaderBorder" CornerRadius="12,12,0,0" Padding="16,12">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- Urgency Icon -->
                    <Border x:Name="UrgencyIconBorder" Width="32" Height="32" CornerRadius="16" 
                            Background="#33FFFFFF" Margin="0,0,12,0">
                        <ui:SymbolIcon x:Name="UrgencyIcon" Symbol="Alert16" Foreground="White" FontSize="16"
                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                    
                    <!-- Title and urgency text -->
                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                        <TextBlock x:Name="UrgencyLabel" Text="{local:Localize Notification_Reminder}" FontSize="10" FontWeight="Bold" 
                                   Foreground="#999999"/>
                        <TextBlock x:Name="ReminderTitle" Text="Reminder Title" FontSize="16" FontWeight="SemiBold" 
                                   Foreground="White" TextTrimming="CharacterEllipsis" Margin="0,2,0,0"/>
                    </StackPanel>
                    
                    <!-- Close button -->
                    <ui:Button Grid.Column="2" Padding="6" Background="Transparent" Click="BtnDismiss_Click"
                               VerticalAlignment="Top" Margin="8,0,0,0">
                        <ui:SymbolIcon Symbol="Dismiss12" Foreground="#888888" FontSize="12"/>
                    </ui:Button>
                </Grid>
            </Border>
            
            <!-- Message and time info -->
            <Border Grid.Row="1" Padding="16,8,16,12">
                <StackPanel>
                    <!-- Time message -->
                    <Border x:Name="TimeBadge" Padding="10,6" CornerRadius="6" HorizontalAlignment="Left">
                        <StackPanel Orientation="Horizontal">
                            <ui:SymbolIcon Symbol="Clock12" FontSize="14" Margin="0,0,8,0">
                                <ui:SymbolIcon.Foreground>
                                    <SolidColorBrush x:Name="TimeIconColor" Color="White"/>
                                </ui:SymbolIcon.Foreground>
                            </ui:SymbolIcon>
                            <TextBlock x:Name="TimeMessage" Text="1 hour left" FontSize="14" FontWeight="SemiBold">
                                <TextBlock.Foreground>
                                    <SolidColorBrush x:Name="TimeTextColor" Color="White"/>
                                </TextBlock.Foreground>
                            </TextBlock>
                        </StackPanel>
                    </Border>
                    
                    <!-- Due date/time -->
                    <TextBlock x:Name="DueDateText" Text="Due: Today at 3:00 PM" FontSize="12" 
                               Foreground="#888888" Margin="0,8,0,0"/>
                </StackPanel>
            </Border>
            
            <!-- Action buttons -->
            <Border Grid.Row="2" Padding="12,8,12,12">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- Snooze button -->
                    <ui:Button x:Name="BtnSnooze" Padding="12,8" Background="#19FFFFFF" 
                               Click="BtnSnooze_Click" ToolTip="{local:Localize Notification_SnoozeTooltip}">
                        <StackPanel Orientation="Horizontal">
                            <ui:SymbolIcon Symbol="Clock12" Foreground="White" FontSize="12"/>
                            <TextBlock Text="{local:Localize Notification_Snooze}" Foreground="White" FontSize="12" Margin="6,0,0,0"/>
                        </StackPanel>
                    </ui:Button>
                    
                    <!-- Mark complete button -->
                    <ui:Button Grid.Column="1" Padding="12,8" Margin="8,0,0,0" Background="#331EB75F"
                               Click="BtnComplete_Click" ToolTip="{local:Localize Notification_CompleteTooltip}">
                        <StackPanel Orientation="Horizontal">
                            <ui:SymbolIcon Symbol="Checkmark12" Foreground="#1EB75F" FontSize="12"/>
                            <TextBlock Text="{local:Localize Notification_Complete}" Foreground="#1EB75F" FontSize="12" Margin="6,0,0,0"/>
                        </StackPanel>
                    </ui:Button>
                    
                    <!-- View button -->
                    <ui:Button Grid.Column="2" Padding="12,8" Margin="8,0,0,0" Background="#330078D4"
                               Click="BtnView_Click" ToolTip="{local:Localize Notification_ViewTooltip}">
                        <StackPanel Orientation="Horizontal">
                            <ui:SymbolIcon Symbol="Open16" Foreground="#0078D4" FontSize="12"/>
                            <TextBlock Text="{local:Localize Notification_View}" Foreground="#0078D4" FontSize="12" Margin="6,0,0,0"/>
                        </StackPanel>
                    </ui:Button>
                </Grid>
            </Border>
            
            <!-- Progress bar for auto-dismiss -->
            <Border x:Name="ProgressBorder" Grid.Row="2" VerticalAlignment="Bottom" Height="3" 
                    CornerRadius="0,0,12,12" ClipToBounds="True" Background="#19FFFFFF">
                <Border x:Name="ProgressBarElement" HorizontalAlignment="Left" Background="#0078D4" 
                        CornerRadius="0,0,0,12"/>
            </Border>
        </Grid>
    </Border>
</Window>

<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
                    xmlns:local="clr-namespace:AIA"
                    xmlns:models="clr-namespace:AIA.Models"
                    xmlns:sys="clr-namespace:System;assembly=mscorlib">
    
    <!-- Value Converters -->
    <BooleanToVisibilityConverter x:Key="BoolToVis"/>
    <local:EnumValuesConverter x:Key="EnumValuesConverter"/>
    <local:IntToVisibilityConverter x:Key="IntToVisConverter"/>
    <local:InverseBoolToVisibilityConverter x:Key="InverseBoolToVis"/>
    <local:NullToVisibilityConverter x:Key="NullToVis"/>
    <local:RecurrenceIntervalConverter x:Key="RecurrenceIntervalConverter"/>
    <local:TaskIdToTitleConverter x:Key="TaskIdToTitleConverter"/>
    
    <!-- Enum values for binding -->
    <ObjectDataProvider x:Key="TaskStatusValues" MethodName="GetValues" ObjectType="{x:Type sys:Enum}">
        <ObjectDataProvider.MethodParameters>
            <x:Type TypeName="models:TaskStatus"/>
        </ObjectDataProvider.MethodParameters>
    </ObjectDataProvider>
    <ObjectDataProvider x:Key="TaskPriorityValues" MethodName="GetValues" ObjectType="{x:Type sys:Enum}">
        <ObjectDataProvider.MethodParameters>
            <x:Type TypeName="models:TaskPriority"/>
        </ObjectDataProvider.MethodParameters>
    </ObjectDataProvider>
    <ObjectDataProvider x:Key="ReminderSeverityValues" MethodName="GetValues" ObjectType="{x:Type sys:Enum}">
        <ObjectDataProvider.MethodParameters>
            <x:Type TypeName="models:ReminderSeverity"/>
        </ObjectDataProvider.MethodParameters>
    </ObjectDataProvider>
    <ObjectDataProvider x:Key="DataEntryTypeValues" MethodName="GetValues" ObjectType="{x:Type sys:Enum}">
        <ObjectDataProvider.MethodParameters>
            <x:Type TypeName="models:DataEntryType"/>
        </ObjectDataProvider.MethodParameters>
    </ObjectDataProvider>
    
    <!-- Task Status Colors -->
    <SolidColorBrush x:Key="StatusNotStarted" Color="#808080"/>
    <SolidColorBrush x:Key="StatusInProgress" Color="#0078D4"/>
    <SolidColorBrush x:Key="StatusOnHold" Color="#FFA500"/>
    <SolidColorBrush x:Key="StatusCompleted" Color="#1EB75F"/>
    <SolidColorBrush x:Key="StatusCancelled" Color="#FF4444"/>
    
    <!-- Common Brushes -->
    <SolidColorBrush x:Key="BorderLight" Color="#33FFFFFF"/>
    <SolidColorBrush x:Key="BackgroundSubtle" Color="#0CFFFFFF"/>
    <SolidColorBrush x:Key="BackgroundHover" Color="#19FFFFFF"/>
    <SolidColorBrush x:Key="TextPrimary" Color="White"/>
    <SolidColorBrush x:Key="TextSecondary" Color="#999999"/>
    <SolidColorBrush x:Key="TextMuted" Color="#666666"/>
    <SolidColorBrush x:Key="AccentBlue" Color="#0078D4"/>
    <SolidColorBrush x:Key="AccentGreen" Color="#1EB75F"/>
    <SolidColorBrush x:Key="AccentRed" Color="#FF4444"/>
    <SolidColorBrush x:Key="AccentOrange" Color="#FFA500"/>
    <SolidColorBrush x:Key="TeamsColor" Color="#5B5FC7"/>
    
    <!-- Status Indicator Ellipse Style -->
    <Style x:Key="StatusIndicatorStyle" TargetType="Ellipse">
        <Setter Property="Width" Value="14"/>
        <Setter Property="Height" Value="14"/>
        <Setter Property="Fill" Value="#808080"/>
        <Style.Triggers>
            <DataTrigger Binding="{Binding Status}" Value="NotStarted">
                <Setter Property="Fill" Value="#808080"/>
            </DataTrigger>
            <DataTrigger Binding="{Binding Status}" Value="InProgress">
                <Setter Property="Fill" Value="#0078D4"/>
            </DataTrigger>
            <DataTrigger Binding="{Binding Status}" Value="OnHold">
                <Setter Property="Fill" Value="#FFA500"/>
            </DataTrigger>
            <DataTrigger Binding="{Binding Status}" Value="Completed">
                <Setter Property="Fill" Value="#1EB75F"/>
            </DataTrigger>
            <DataTrigger Binding="{Binding Status}" Value="Cancelled">
                <Setter Property="Fill" Value="#FF4444"/>
            </DataTrigger>
        </Style.Triggers>
    </Style>
    
    <!-- Clickable Item Border Style -->
    <Style x:Key="ClickableItemBorderStyle" TargetType="Border">
        <Setter Property="Background" Value="#0CFFFFFF"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="CornerRadius" Value="8"/>
        <Setter Property="BorderBrush" Value="#33FFFFFF"/>
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="#19FFFFFF"/>
            </Trigger>
        </Style.Triggers>
    </Style>
    
    <!-- Subtask Item Template -->
    <DataTemplate x:Key="SubtaskTemplate">
        <Border Margin="20,4,8,4" Padding="10,8" CornerRadius="6" Background="#19FFFFFF" BorderBrush="#33FFFFFF" BorderThickness="1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Subtask Status Indicator -->
                <Ellipse Width="10" Height="10" Margin="0,0,10,0" VerticalAlignment="Center">
                    <Ellipse.Style>
                        <Style TargetType="Ellipse">
                            <Setter Property="Fill" Value="#808080"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Status}" Value="NotStarted">
                                    <Setter Property="Fill" Value="#808080"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Status}" Value="InProgress">
                                    <Setter Property="Fill" Value="#0078D4"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Status}" Value="Completed">
                                    <Setter Property="Fill" Value="#1EB75F"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Ellipse.Style>
                </Ellipse>
                
                <!-- Subtask Title -->
                <TextBlock Grid.Column="1" Text="{Binding Title}" Foreground="White" VerticalAlignment="Center" TextTrimming="CharacterEllipsis">
                    <TextBlock.Style>
                        <Style TargetType="TextBlock">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding IsCompleted}" Value="True">
                                    <Setter Property="TextDecorations" Value="Strikethrough"/>
                                    <Setter Property="Opacity" Value="0.6"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>
                
                <!-- Subtask Status ComboBox -->
                <ComboBox Grid.Column="2" Width="100" Height="26" Margin="8,0"
                          SelectedItem="{Binding Status, Mode=TwoWay}"
                          ItemsSource="{Binding Source={StaticResource TaskStatusValues}}"
                          Background="Transparent" Foreground="White" FontSize="11"/>
                
                <!-- Delete Subtask - Note: Event handler will be connected in code-behind -->
                <ui:Button Grid.Column="3" Padding="4" Background="Transparent" Tag="{Binding}" x:Name="BtnDeleteSubtask">
                    <ui:SymbolIcon Symbol="Delete12" Foreground="#FF6666" FontSize="12"/>
                </ui:Button>
            </Grid>
        </Border>
    </DataTemplate>
    
    <!-- Reminder Item Template -->
    <DataTemplate x:Key="ReminderItemTemplate">
        <Border Margin="0,4" CornerRadius="8" BorderBrush="#33FFFFFF" BorderThickness="1" Tag="{Binding}" Cursor="Hand">
            <Border.Style>
                <Style TargetType="Border">
                    <Setter Property="Background" Value="#0CFFFFFF"/>
                    <Style.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="#19FFFFFF"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </Border.Style>
            <Grid Margin="12,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Severity Indicator -->
                <Ellipse Width="14" Height="14" Margin="0,0,10,0" VerticalAlignment="Center">
                    <Ellipse.Style>
                        <Style TargetType="Ellipse">
                            <Setter Property="Fill" Value="#808080"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Severity}" Value="Low">
                                    <Setter Property="Fill" Value="#808080"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Severity}" Value="Medium">
                                    <Setter Property="Fill" Value="#0078D4"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Severity}" Value="High">
                                    <Setter Property="Fill" Value="#FFA500"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Severity}" Value="Urgent">
                                    <Setter Property="Fill" Value="#FF4444"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Ellipse.Style>
                </Ellipse>
                
                <!-- Reminder Info -->
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock Text="{Binding Title}" FontWeight="SemiBold" Foreground="White" FontSize="14" TextTrimming="CharacterEllipsis">
                        <TextBlock.Style>
                            <Style TargetType="TextBlock">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsCompleted}" Value="True">
                                        <Setter Property="TextDecorations" Value="Strikethrough"/>
                                        <Setter Property="Opacity" Value="0.6"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                    <TextBlock Text="{Binding TimeLeftText}" FontSize="11" Margin="0,4,0,0">
                        <TextBlock.Style>
                            <Style TargetType="TextBlock">
                                <Setter Property="Foreground" Value="#999999"/>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsOverdue}" Value="True">
                                        <Setter Property="Foreground" Value="#FF6666"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                </StackPanel>
                
                <!-- Severity Badge -->
                <Border Grid.Column="2" Margin="8,0" Padding="6,2" CornerRadius="4" VerticalAlignment="Center">
                    <Border.Style>
                        <Style TargetType="Border">
                            <Setter Property="Background" Value="#33808080"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Severity}" Value="Low">
                                    <Setter Property="Background" Value="#33808080"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Severity}" Value="Medium">
                                    <Setter Property="Background" Value="#330078D4"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Severity}" Value="High">
                                    <Setter Property="Background" Value="#33FFA500"/>
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Severity}" Value="Urgent">
                                    <Setter Property="Background" Value="#33FF4444"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Border.Style>
                    <TextBlock Text="{Binding Severity}" FontSize="10" Foreground="White"/>
                </Border>
                
                <!-- Complete Toggle -->
                <ui:Button Grid.Column="3" Padding="4" Background="Transparent" Tag="{Binding}">
                    <ui:SymbolIcon FontSize="14">
                        <ui:SymbolIcon.Style>
                            <Style TargetType="ui:SymbolIcon">
                                <Setter Property="Symbol" Value="Circle12"/>
                                <Setter Property="Foreground" Value="#999999"/>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsCompleted}" Value="True">
                                        <Setter Property="Symbol" Value="CheckmarkCircle12"/>
                                        <Setter Property="Foreground" Value="#1EB75F"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </ui:SymbolIcon.Style>
                    </ui:SymbolIcon>
                </ui:Button>
            </Grid>
        </Border>
    </DataTemplate>
    
</ResourceDictionary>
